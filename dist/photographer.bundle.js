(()=>{"use strict";function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var n=function(){function n(t,o,i,r,a,c,s,l){var u=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e(this,"dom",{photographers:document.querySelector(".photographers"),photographer:document.querySelector(".photographer"),nameInForm:document.querySelector(".modal__head")}),e(this,"getPrice",(function(){return'\n\t\t<p class="infos__price">'.concat(u.price,"€ / jour</p>\n\t\t")})),e(this,"tagsForPhotographersCards",(function(){for(var t="",e=0;e<u.tags.length;e++)t+='<span class="photographer__tag"><a href="./index.html?tag='.concat(u.tags[e],'">#').concat(u.tags[e],"</a></span>");return t})),e(this,"tagsForPhotographerHeader",(function(){for(var t="",e=0;e<u.tags.length;e++)t+='<span class="photographer__tag"><a href="../index.html?tag='.concat(u.tags[e],'">#').concat(u.tags[e],"</a></span>");return t})),this.name=t,this.city=o,this.country=i,this.tags=r,this.tagline=a,this.price=c,this.portrait=s,this.id=l}var o,i,r;return o=n,(i=[{key:"photographerCard",get:function(){return'\n\t\t<article class="photographer">\n\t\t\t<a href="./photographers/index.html?id='.concat(this.id,'" class="photographer__header">\n\t\t\t\t<img class="photographer__img" src="public/images/photographers/id_photos/').concat(this.portrait,'" alt="">\n\t\t\t\t<h2 class="photographer__name">').concat(this.name,'</h2>\n\t\t\t</a>\n\t\t\t<div class="photographer__content">\n\t\t\t\t<p class="photographer__location">').concat(this.city,", ").concat(this.country,'</p>\n\t\t\t\t<p class="photographer__tagline">').concat(this.tagline,'</p>\n\t\t\t\t<p class="photographer__price">').concat(this.price,'€/jour</p>\n\t\t\t</div>\n\t\t\t<div class="photographer__tags">')+this.tagsForPhotographersCards()+"</div>\n\t\t</article>\n\t\t"}},{key:"photographerHeader",get:function(){return'\n\t\t<article class="photographer__profil">\n\t\t\t<div class="photographer__body">\n\t\t\t\t<div class="photographer__content">\n\t\t\t\t\t<h1 class="photographer__name">'.concat(this.name,'</h1>\n\t\t\t\t\t<p class="photographer__location">').concat(this.city,", ").concat(this.country,'</p>\n\t\t\t\t\t<p class="photographer__tagline">').concat(this.tagline,'</p>\n\t\t\t\t\t<div class="photographer__tags">')+this.tagsForPhotographerHeader()+'</div>\n\t\t\t\t</div>\n\t\t\t\t<button class="photographer__contactButton">Contactez-moi</button>\n\t\t\t</div>\n\t\t\t<img class="photographer__img" src="../public/images/photographers/id_photos/'.concat(this.portrait,'" alt="').concat(this.name,'">\n\t\t</article>\n\t\t')}},{key:"photographerNameInForm",get:function(){return'\n\t\t\t<h1 class="modal__head" id="contact">Contactez-moi </br> '.concat(this.name,"</h1>\n\t\t")}}])&&t(o.prototype,i),r&&t(o,r),n}();function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=s(t);if(e){var i=s(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function d(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}var h=function(){function t(e,n,o,i,r,a){l(this,t),this.title=e,this.filename=n,this.likes=o,this.typeMedia=r,this.date=a,this.altTxt=i}return d(t,[{key:"createMedia",value:function(){switch(this.typeMedia){case"image":return new f(this.title,this.filename,this.likes,this.altTxt).createImage;case"video":return new p(this.title,this.filename,this.likes,this.altTxt).createVideo}}}]),t}(),f=function(t){i(n,t);var e=a(n);function n(t,o,i,r){return l(this,n),e.call(this,t,o,i,r)}return d(n,[{key:"createImage",get:function(){return'\n\t\t\t<article class="media__card">\n\t\t\t\t<a href="../public/images/photographers/photos/'.concat(this.filename,'">\n\t\t\t\t\t<img src="../public/images/photographers/photos/').concat(this.filename,'" alt="').concat(this.altTxt,'" class="media__thumb">\n\t\t\t\t</a>\n\t\t\t\t<div class="media__content">\n\t\t\t\t\t<h2 class="media__title">').concat(this.title,'</h2>\n\t\t\t\t\t<div class="media__likes" tabindex="0">\n\t\t\t\t\t\t<p class="media__number">').concat(this.likes,'</p>\n\t\t\t\t\t\t<svg role="img" class="media__heart" width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg" aria-label="likes" aria-describedby="title-').concat(this.title.substring(0,3)," description-").concat(this.title.substring(0,3),'">\n\t\t\t\t\t\t\t<title id="title-').concat(this.title.substring(0,3),'">Likes</title>\n\t\t\t\t\t\t\t<desc id="description-').concat(this.title.substring(0,3),'">Icone en forme de cœur</desc>\n\t\t\t\t\t\t\t<path d="M9.5 18.35L8.23125 17.03C3.725 12.36 0.75 9.28 0.75 5.5C0.75 2.42 2.8675 0 5.5625 0C7.085 0 8.54625 0.81 9.5 2.09C10.4537 0.81 11.915 0 13.4375 0C16.1325 0 18.25 2.42 18.25 5.5C18.25 9.28 15.275 12.36 10.7688 17.04L9.5 18.35Z" fill="#911C1C"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</article>')}}]),n}(h),p=function(t){i(n,t);var e=a(n);function n(t,o,i,r){return l(this,n),e.call(this,t,o,i,r)}return d(n,[{key:"createVideo",get:function(){return'\n\t\t\t<article class="media__card">\n\t\t\t\t<a href="../public/images/photographers/videos/'.concat(this.filename,'" >\n\t\t\t\t\t<div class="media__playIcon"></div>\n\t\t\t\t\t<video class="media__thumb" aria-labelledby="summary">\n\t\t\t\t\t\t<source src="../public/images/photographers/videos/').concat(this.filename,'"\n\t\t\t\t\t\ttype="video/mp4">\n\t\t\t\t\t\t<div id="summary">').concat(this.altTxt,'</div>\n\t\t\t\t\t</video>\n\t\t\t\t</a>\n\t\t\t\t<div class="media__content">\n\t\t\t\t\t<h2 class="media__title">').concat(this.title,'</h2>\n\t\t\t\t\t<div class="media__likes" tabindex="0">\n\t\t\t\t\t\t<p class="media__number">').concat(this.likes,'</p>\n\t\t\t\t\t\t<svg role="img" class="media__heart" width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg" aria-label="likes" aria-describedby="title-').concat(this.title.substring(0,3)," description-").concat(this.title.substring(0,3),'">\n\t\t\t\t\t\t\t<title id="title-').concat(this.title.substring(0,3),'">Likes</title>\n\t\t\t\t\t\t\t<desc id="description-').concat(this.title.substring(0,3),'">Icone en forme de cœur</desc>\n\t\t\t\t\t\t\t<path d="M9.5 18.35L8.23125 17.03C3.725 12.36 0.75 9.28 0.75 5.5C0.75 2.42 2.8675 0 5.5625 0C7.085 0 8.54625 0.81 9.5 2.09C10.4537 0.81 11.915 0 13.4375 0C16.1325 0 18.25 2.42 18.25 5.5C18.25 9.28 15.275 12.36 10.7688 17.04L9.5 18.35Z" fill="#911C1C"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</article>')}}]),n}(h);function m(t,e,n,o,i,r,a){try{var c=t[r](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(o,i)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var r=t.apply(e,n);function a(t){m(r,o,i,a,c,"next",t)}function c(t){m(r,o,i,a,c,"throw",t)}a(void 0)}))}}var g=function(){var t=v(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://roy-framery-s-openclassrooms-projects.github.io/RoyFramery_6_10082021/fisheyeData.json",t.next=3,fetch("https://roy-framery-s-openclassrooms-projects.github.io/RoyFramery_6_10082021/fisheyeData.json");case 3:if(!(e=t.sent).ok){t.next=8;break}return t.abrupt("return",e.json());case 8:console.error(e.status);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=v(regeneratorRuntime.mark((function t(e,o){var i,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return i=t.sent,r=i.photographers,a=[],r.map((function(t){o==t.id&&a.push(new n(t.name,t.city,t.country,t.tags,t.tagline,t.price,t.portrait,t.id))})),t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),b=function(){var t=v(regeneratorRuntime.mark((function t(e,n,o){var i,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return i=t.sent,r=i.media,a=[],r.map((function(t){n==t.photographerId&&a.push(new h(t.title,t.image?t.image:t.video,t.likes,t.altTxt,t.image?"image":"video",t.date))})),_(a,o),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e,n,o){return t.apply(this,arguments)}}(),_=function(t,e){switch(e){case"likes":return t.sort((function(t,n){return n[e]-t[e]}));case"title":return t.sort((function(t,n){return t[e]<n[e]?-1:t[e]>n[e]?1:0}));case"date":return t.sort((function(t,n){return new Date(n[e])-new Date(t[e])}))}};var w=!1;if("undefined"!=typeof window){var x={get passive(){w=!0}};window.addEventListener("testPassive",null,x),window.removeEventListener("testPassive",null,x)}var k="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),S=[],E=!1,L=-1,A=void 0,q=void 0,T=void 0,C=function(t){return S.some((function(e){return!(!e.options.allowTouchMove||!e.options.allowTouchMove(t))}))},M=function(t){var e=t||window.event;return!!C(e.target)||(e.touches.length>1||(e.preventDefault&&e.preventDefault(),!1))},O=function(){void 0!==T&&(document.body.style.paddingRight=T,T=void 0),void 0!==A&&(document.body.style.overflow=A,A=void 0)},P=function(){if(void 0!==q){var t=-parseInt(document.body.style.top,10),e=-parseInt(document.body.style.left,10);document.body.style.position=q.position,document.body.style.top=q.top,document.body.style.left=q.left,window.scrollTo(e,t),q=void 0}},j=function(t,e){if(t){if(!S.some((function(e){return e.targetElement===t}))){var n={targetElement:t,options:e||{}};S=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(S),[n]),k?window.requestAnimationFrame((function(){if(void 0===q){q={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var t=window,e=t.scrollY,n=t.scrollX,o=t.innerHeight;document.body.style.position="fixed",document.body.style.top=-e,document.body.style.left=-n,setTimeout((function(){return window.requestAnimationFrame((function(){var t=o-window.innerHeight;t&&e>=o&&(document.body.style.top=-(e+t))}))}),300)}})):function(t){if(void 0===T){var e=!!t&&!0===t.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;if(e&&n>0){var o=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);T=document.body.style.paddingRight,document.body.style.paddingRight=o+n+"px"}}void 0===A&&(A=document.body.style.overflow,document.body.style.overflow="hidden")}(e),k&&(t.ontouchstart=function(t){1===t.targetTouches.length&&(L=t.targetTouches[0].clientY)},t.ontouchmove=function(e){1===e.targetTouches.length&&function(t,e){var n=t.targetTouches[0].clientY-L;!C(t.target)&&(e&&0===e.scrollTop&&n>0||function(t){return!!t&&t.scrollHeight-t.scrollTop<=t.clientHeight}(e)&&n<0?M(t):t.stopPropagation())}(e,t)},E||(document.addEventListener("touchmove",M,w?{passive:!1}:void 0),E=!0))}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")},I=function(t){t?(S=S.filter((function(e){return e.targetElement!==t})),k&&(t.ontouchstart=null,t.ontouchmove=null,E&&0===S.length&&(document.removeEventListener("touchmove",M,w?{passive:!1}:void 0),E=!1)),k?P():O()):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.")};function H(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var R=function(){function t(e,n,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=this.buildDOM(),this.media=n,this.titles=o,this.index=i,this.loadMedia(e,this.titles,this.index),this.onKeyUp=this.onKeyUp.bind(this),document.body.appendChild(this.element),j(this.element),document.addEventListener("keyup",this.onKeyUp),document.querySelector(".lightbox__next").focus(),document.querySelector(".main").setAttribute("aria-hidden",!0)}var e,n,o;return e=t,o=[{key:"init",value:function(){var e=Array.from(document.querySelectorAll('a[href$=".jpg"], a[href$=".mp4"]')),n=e.map((function(t){return t.getAttribute("href")}));e.forEach((function(e){return e.addEventListener("click",(function(e){e.preventDefault();var o=document.querySelectorAll(".media__title"),i=n.indexOf(e.currentTarget.getAttribute("href"));new t(e.currentTarget.getAttribute("href"),n,o,i)}))}))}}],(n=[{key:"loadMedia",value:function(t,e,n){this.url=null;var o=this.element.querySelector(".lightbox__image"),i=document.createElement("div");if(i.classList.add("lightbox__loader"),o.innerHTML='<button class="lightbox__close lightbox__button" tabindex="0">Close dialog</button>',o.querySelector(".lightbox__close").addEventListener("click",this.close.bind(this)),o.appendChild(i),this.url=t,t.includes(".jpg")){var r=new Image;r.onload=function(){o.removeChild(i),o.appendChild(r)},r.classList.add("lightbox__media"),r.src=t}if(t.includes(".mp4")){var a=document.createElement("VIDEO");a.onloadeddata=function(){o.removeChild(i),o.appendChild(a)},a.setAttribute("src",t),a.setAttribute("controls","controls"),a.classList.add("lightbox__media")}var c=[];e.forEach((function(t){c.push(t.innerHTML)}));var s=this.element.querySelector(".lightbox__container"),l=document.querySelector(".lightbox__title");l&&s.removeChild(l);var u=document.createElement("h2");u.classList.add("lightbox__title"),u.innerHTML=c[n],s.appendChild(u)}},{key:"onKeyUp",value:function(t){"Escape"===t.key?this.close(t):"ArrowLeft"===t.key?this.previous(t):"ArrowRight"===t.key&&this.next(t)}},{key:"close",value:function(t){var e=this;t.preventDefault(),this.element.classList.add("fadeout"),I(this.element),window.setTimeout((function(){e.element.parentElement.removeChild(e.element)}),500),document.removeEventListener("keyup",this.onKeyUp),document.querySelector(".main").setAttribute("aria-hidden",!1),document.querySelectorAll(".media__thumb").forEach((function(t){t.getAttribute("src")==e.url&&t.parentNode.focus()}))}},{key:"next",value:function(t){var e=this;t.preventDefault();var n=this.media.findIndex((function(t){return t===e.url}));n===this.media.length-1&&(n=-1),this.index=this.index+1,10==this.index&&(this.index=0),this.loadMedia(this.media[n+1],this.titles,this.index)}},{key:"previous",value:function(t){var e=this;t.preventDefault();var n=this.media.findIndex((function(t){return t===e.url}));0===n&&(n=this.media.length),this.index=this.index-1,-1==this.index&&(this.index=this.media.length-1),this.loadMedia(this.media[n-1],this.titles,this.index)}},{key:"buildDOM",value:function(){var t=document.createElement("div");return t.classList.add("lightbox"),t.setAttribute("aria-label","image closeup view"),t.innerHTML='<button class="lightbox__next lightbox__button" tabindex="0">Next image</button>\n\t\t\t<button class="lightbox__previous lightbox__button" tabindex="0">Previous image</button>\n\t\t\t<div class="lightbox__container" aria-label="image closeup view">\n\t\t\t\t<div class="lightbox__image"></div>\n\t\t\t</div>',t.querySelector(".lightbox__next").addEventListener("click",this.next.bind(this)),t.querySelector(".lightbox__previous").addEventListener("click",this.previous.bind(this)),t}}])&&H(e.prototype,n),o&&H(e,o),t}();function B(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function D(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var F=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"onKeyUp",value:function(t){"Escape"===t.key&&this.closeModal()}}],(n=null)&&B(e.prototype,n),o&&B(e,o),t}();function V(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}D(F,"element",{contact:document.querySelector(".photographer__contactButton"),modal:document.querySelector(".modal"),close:document.querySelector(".modal__close")}),D(F,"modalEvents",(function(){document.querySelector(".photographer__contactButton").addEventListener("click",(function(){F.launchModal()})),document.querySelector(".modal__close").addEventListener("click",(function(){F.closeModal()})),document.addEventListener("keyup",F.onKeyUp.bind(F))})),D(F,"launchModal",(function(){j(document.body),document.querySelector(".modal").style.display="flex",document.querySelectorAll(".form__text")[0].focus()})),D(F,"closeModal",(function(){I(document.body),F.element.modal.style.display="none",document.removeEventListener("keyup",F.onKeyUp),document.querySelector(".photographer__contactButton").focus()}));var U={firstname:{element:document.querySelector("#firstname"),regex:/^[a-zA-Z\-éëàèìòùÀÈÌÒÙáéíóúýÁÉÍÓÚÝâêîôûÂÊÎÔÛãñõÃÑÕäëïöüÿÄËÏÖÜŸçÇÆæœ]{2,}$/},lastname:{element:document.querySelector("#lastname"),regex:/^[a-zA-Z\-éëàèìòùÀÈÌÒÙáéíóúýÁÉÍÓÚÝâêîôûÂÊÎÔÛãñõÃÑÕäëïöüÿÄËÏÖÜŸçÇÆæœ\s]{2,}$/},email:{element:document.querySelector("#email"),regex:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/},message:{element:document.querySelector("#textArea"),regex:/^[a-zA-Z\-,.?!;*'")(_<>\séëàèìòùÀÈÌÒÙáéíóúýÁÉÍÓÚÝâêîôûÂÊÎÔÛãñõÃÑÕäëïöüÿÄËÏÖÜŸçÇÆæœ]{1,}$/}},K=document.querySelectorAll(".form__data"),Z=document.querySelector(".infos");const z=function(t){t.then((function(t){var e=0;return t.map((function(t){e+=t.likes})),Z.insertAdjacentHTML("beforeend",'\n\t\t<div class="infos__likes">\n\t\t\t<p class="infos__totalLikes">'.concat(e,'</p>\n\t\t\t<svg role="img" class="infos__heart" width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg" aria-describedby="title-').concat(e," description-").concat(e,'">\n\t\t\t\t<title id="title-').concat(e,'">Likes</title>\n\t\t\t\t<desc id="description-').concat(e,'">Icone en forme de cœur</desc>\n\t\t\t\t<path d="M9.5 18.35L8.23125 17.03C3.725 12.36 0.75 9.28 0.75 5.5C0.75 2.42 2.8675 0 5.5625 0C7.085 0 8.54625 0.81 9.5 2.09C10.4537 0.81 11.915 0 13.4375 0C16.1325 0 18.25 2.42 18.25 5.5C18.25 9.28 15.275 12.36 10.7688 17.04L9.5 18.35Z" fill="#000"/>\n\t\t\t\t</svg>\n\t\t</div>\n\t\t'))}))};var N=document.querySelector(".infos");const $=function(t){t.then((function(t){N.insertAdjacentHTML("beforeend",t[0].getPrice())}))};var Y=function(t,e){++t.innerText,++e.children[0].innerText,e.classList.add("media__liked")},W=function(t,e){--t.innerText,--e.children[0].innerText,e.classList.remove("media__liked")};const G=function(){document.querySelectorAll(".media__likes").forEach((function(t){["click","keyup"].forEach((function(e){return t.addEventListener(e,(function(e){var n=document.querySelector(".infos__totalLikes");("Enter"==e.key||"click"==e.type)&&(t.classList.contains("media__liked")?W(n,t):Y(n,t))}))}))}))};var X=function(t,e){e.forEach((function(e){e.getAttribute("data-value")!=t&&(e.classList.remove("filter__selected"),e.setAttribute("aria-selected",!1))}))},J={inputSelect:document.querySelector(".filter__select"),photographerHeader:document.querySelector(".photographer"),nameInForm:document.querySelector(".modal__head"),media:document.querySelector(".media"),form:document.querySelector(".form"),modalForm:document.querySelector(".modal"),selectMenu:document.querySelector(".filter__custom-menu"),selectOption:document.querySelectorAll(".filter__custom-option")},Q=window.location.search,tt=new URLSearchParams(Q).get("id"),et=y(g(),tt);et.then((function(t){return t.map((function(t){J.photographerHeader.innerHTML=t.photographerHeader,J.form.insertAdjacentHTML("beforebegin",t.photographerNameInForm)}))}));var nt=J.selectOption[0].getAttribute("data-value"),ot=function(t,e){var n=b(g(),t,e);J.media.innerHTML="",n.then((function(t){return t.map((function(t){J.media.innerHTML+=t.createMedia()}))})),function(t,e){e.forEach((function(e){e.getAttribute("data-value")==t&&(e.classList.add("filter__selected"),e.setAttribute("aria-selected",!0))}))}(e,J.selectOption)};ot(tt,nt),J.selectOption.forEach((function(t){return t.addEventListener("click",(function(){nt=t.getAttribute("data-value"),ot(tt,nt),X(nt,J.selectOption),J.inputSelect.setAttribute("value",t.innerText),setTimeout((function(){R.init(),G()}),1e3)}))})),J.selectOption.forEach((function(t){return t.addEventListener("keyup",(function(e){"Enter"==e.key&&(nt=t.getAttribute("data-value"),ot(tt,nt),X(nt,J.selectOption),J.inputSelect.setAttribute("value",t.innerText),J.inputSelect.focus(),J.selectMenu.classList.remove("filter__show")),setTimeout((function(){R.init(),G()}),1500)}))}));var it=new function t(e,n){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),V(this,"valid",!0),V(this,"nameValidation",(function(t,e){return!(""==t.value||t.value.length<2||!e.test(t.value))})),V(this,"emailValidation",(function(t,e){return!!e.test(t.value)})),V(this,"textareaValidation",(function(t,e){return!!e.test(t.value)})),V(this,"removeErrorMessage",(function(){o.valid=!0,Array.from(o.containerInput).map((function(t){t.removeAttribute("data-error-visible")}))})),V(this,"launchValidation",(function(){for(var t in o.removeErrorMessage(),o.inputs)switch(t){case"firstname":case"lastname":o.nameValidation(o.inputs[t].element,o.inputs[t].regex)||(o.inputs[t].element.parentNode.setAttribute("data-error-visible",!0),o.valid=!1);break;case"email":o.emailValidation(o.inputs[t].element,o.inputs[t].regex)||(o.inputs[t].element.parentNode.setAttribute("data-error-visible",!0),o.valid=!1);break;case"message":o.textareaValidation(o.inputs[t].element,o.inputs[t].regex)||(o.inputs[t].element.parentNode.setAttribute("data-error-visible",!0),o.valid=!1)}return o.valid})),this.inputs=e,this.containerInput=n}(U,K);J.form.addEventListener("click",(function(t){if(t.preventDefault(),it.launchValidation()){var e=document.querySelectorAll(".form__text"),n=document.querySelector(".form__text-area");e.forEach((function(t){return console.log(t.getAttribute("name")," : ",t.value)})),console.log("text-Area : ",n.value),J.form.reset(),J.modalForm.style.display="none",I(document.body),document.querySelector(".photographer__contactButton").focus()}})),z(b(g(),tt)),$(et),setTimeout((function(){var t,e;F.modalEvents(),R.init(),G(),t=document.querySelector(".filter__custom-select"),e=document.querySelector(".filter__select"),t.addEventListener("click",(function(){var t=document.querySelector(".filter__custom-menu"),n=document.querySelector(".filter__custom-arrow","before");t.classList.contains("filter__show")?(n.style.transform="rotate(0deg)",t.classList.remove("filter__show"),e.setAttribute("aria-expanded",!1)):(t.classList.add("filter__show"),n.style.transform="rotate(180deg)",e.setAttribute("aria-expanded",!0))}))}),1e3)})();
//# sourceMappingURL=photographer.bundle.js.map