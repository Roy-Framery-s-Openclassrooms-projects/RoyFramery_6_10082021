(()=>{"use strict";function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var e=function e(n,r,o,a,i,c,s,u){var l=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t(this,"dom",{photographers:document.querySelector(".photographers")}),t(this,"displayTags",(function(){for(var t="",e=0;e<l.tags.length;e++)t+='<span class="photographer__tag"><a href="./index.html?tag='.concat(l.tags[e],'">#').concat(l.tags[e],"</a></span>");return t})),t(this,"constructCardPhotographer",(function(){return l.dom.photographers.insertAdjacentHTML("beforeend",'\n\t\t<acticle class="photographer">\n\t\t<a href="./public/pages/photographer.html?id='.concat(l.id,'" class="photographer__header">\n\t\t<img class="photographer__img" src="public/images/photographers/id_photos/').concat(l.portrait,'" alt="">\n\t\t<h2 class="photographer__name">').concat(l.name,'</h2>\n\t\t</a>\n\t\t<div class="photographer__content">\n\t\t<p class="photographer__location">').concat(l.city,", ").concat(l.country,'</p>\n\t\t<p class="photographer__tagline">').concat(l.tagline,'</p>\n\t\t<p class="photographer__price">').concat(l.price,'€/jour</p>\n\t\t</div>\n\t\t<div class="photographer__tags">')+l.displayTags()+"</div>\n\t\t</acticle>\n\t\t")})),this.name=n,this.city=r,this.country=o,this.tags=a,this.tagline=i,this.price=c,this.portrait=s,this.id=u};function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)}}function i(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}var f=function(){function t(e,n,r,o){var a,i,c;s(this,t),a=this,i="dom",c={media:document.querySelector(".media")},i in a?Object.defineProperty(a,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[i]=c,this.title=e,this.filename=n,this.likes=r,this.typeMedia=o}return l(t,[{key:"createMedia",value:function(){switch(this.typeMedia){case"image":return new h(this.title,this.filename,this.likes).createImage();case"video":return new p(this.title,this.filename,this.likes).createVideo()}}}]),t}(),h=function(t){r(n,t);var e=a(n);function n(t,r,o){return s(this,n),e.call(this,t,r,o)}return l(n,[{key:"createImage",value:function(){return this.dom.media.insertAdjacentHTML("beforeend",'<artcle class="media__card">\n\t\t\t\t<a href="#">\n\t\t\t\t\t<img src="../images/photographers/photos/'.concat(this.filename,'" class="media__thumb">\n\t\t\t\t</a>\n\t\t\t\t<div class="media__content">\n\t\t\t\t\t<h2 class="media__title">').concat(this.title,'</h2>\n\t\t\t\t\t<div class="media__likes">\n\t\t\t\t\t\t<p class="media__number">').concat(this.likes,'</p>\n\t\t\t\t\t\t<svg role="image" class="media__heart" width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t<title id="title">Likes</title>\n\t\t\t\t\t\t\t<desc id="description">Icone en forme de cœur</desc>\n\t\t\t\t\t\t\t<path d="M9.5 18.35L8.23125 17.03C3.725 12.36 0.75 9.28 0.75 5.5C0.75 2.42 2.8675 0 5.5625 0C7.085 0 8.54625 0.81 9.5 2.09C10.4537 0.81 11.915 0 13.4375 0C16.1325 0 18.25 2.42 18.25 5.5C18.25 9.28 15.275 12.36 10.7688 17.04L9.5 18.35Z" fill="#911C1C"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</artcle>'))}}]),n}(f),p=function(t){r(n,t);var e=a(n);function n(t,r,o){return s(this,n),e.call(this,t,r,o)}return l(n,[{key:"createVideo",value:function(){return this.dom.media.insertAdjacentHTML("beforeend",'<artcle class="media__card">\n\t\t\t\t<a href="#" >\n\t\t\t\t\t<video controls class="media__thumb">\n\t\t\t\t\t\t<source src="../images/photographers/videos/'.concat(this.filename,'"\n\t\t\t\t\t\ttype="video/mp4">\n\t\t\t\t\t</video>\n\t\t\t\t</a>\n\t\t\t\t<div class="media__content">\n\t\t\t\t\t<h2 class="media__title">').concat(this.title,'</h2>\n\t\t\t\t\t<div class="media__likes">\n\t\t\t\t\t\t<p class="media__number">').concat(this.likes,'</p>\n\t\t\t\t\t\t<svg role="image" class="media__heart" width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t<title id="title">Likes</title>\n\t\t\t\t\t\t\t<desc id="description">Icone en forme de cœur</desc>\n\t\t\t\t\t\t\t<path d="M9.5 18.35L8.23125 17.03C3.725 12.36 0.75 9.28 0.75 5.5C0.75 2.42 2.8675 0 5.5625 0C7.085 0 8.54625 0.81 9.5 2.09C10.4537 0.81 11.915 0 13.4375 0C16.1325 0 18.25 2.42 18.25 5.5C18.25 9.28 15.275 12.36 10.7688 17.04L9.5 18.35Z" fill="#911C1C"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</artcle>'))}}]),n}(f);function d(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y(t,e,n,r,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function g(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){y(a,r,o,i,c,"next",t)}function c(t){y(a,r,o,i,c,"throw",t)}i(void 0)}))}}var v=function(){var t=g(regeneratorRuntime.mark((function t(){var e,n,r,o,a,i,c,s,u,l,f,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"../fisheyeData.json",t.next=3,fetch("../fisheyeData.json");case 3:if(!(e=t.sent).ok){t.next=22;break}return t.next=7,e.json();case 7:if(n=t.sent,r=n.photographers,o=window.location.search,a=new URLSearchParams(o),null!=(i=a.get("tag"))){t.next=16;break}return t.abrupt("return",r);case 16:c=[],s=d(r);try{for(s.s();!(u=s.n()).done;){l=u.value,f=d(l.tags);try{for(f.s();!(h=f.n()).done;)h.value==i&&c.push(l)}catch(t){f.e(t)}finally{f.f()}}}catch(t){s.e(t)}finally{s.f()}return t.abrupt("return",c);case 20:t.next=23;break;case 22:console.error(e.status);case 23:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){var t=g(regeneratorRuntime.mark((function t(){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v();case 2:n=t.sent,r=0,o={},a=d(n);try{for(a.s();!(i=a.n()).done;)c=i.value,o[r]=new e(c.name,c.city,c.country,c.tags,c.tagline,c.price,c.portrait,c.id),o[r].constructCardPhotographer(),r++}catch(t){a.e(t)}finally{a.f()}case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_=function(){var t=g(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"../../fisheyeData.json",t.next=3,fetch("../../fisheyeData.json");case 3:if(!(e=t.sent).ok){t.next=11;break}return t.next=7,e.json();case 7:return n=t.sent,t.abrupt("return",n.media);case 11:console.error(e.status);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=g(regeneratorRuntime.mark((function t(){var e,n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_();case 2:e=t.sent,n=window.location.search,r=new URLSearchParams(n),o=r.get("id"),a=0,i={},c=d(e);try{for(c.s();!(s=c.n()).done;)(u=s.value).photographerId==o&&(void 0!==u.image?(i[a]=new f(u.title,u.image,u.likes,"image"),i[a].createMedia()):void 0!==u.video&&(i[a]=new f(u.title,u.video,u.likes,"video"),i[a].createMedia()),a++)}catch(t){c.e(t)}finally{c.f()}case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();"Accueil"==document.title&&b(),"Gallery"==document.title&&w()})();